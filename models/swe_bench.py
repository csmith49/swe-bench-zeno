"""
Models for processing the SWE-bench results generated by OpenHands.
"""

from __future__ import annotations

from pydantic import BaseModel


class SWEBenchInstance(BaseModel):
    """
    Test results for a single SWE-bench instance.
    """

    instance_id: str
    test_result: SWEBenchTestResult


class SWEBenchTestResult(BaseModel):
    """
    The result of executing an agent on an instance.
    """

    git_patch: str
    report: SWEBenchTestReport
    apply_patch_output: str | None = None
    test_output: str | None = None


class SWEBenchTestReport(BaseModel):
    """
    Summary of the performance of the agent.
    """

    empty_generation: bool
    resolved: bool
    failed_apply_patch: bool
    error_eval: bool
    test_timeout: bool
